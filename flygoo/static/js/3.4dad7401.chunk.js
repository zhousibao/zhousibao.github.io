(this.webpackJsonpflygoo=this.webpackJsonpflygoo||[]).push([[3],{198:function(e,t,n){"use strict";function r(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(s){return void n(s)}l.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function l(e){r(i,o,a,l,u,"next",e)}function u(e){r(i,o,a,l,u,"throw",e)}l(void 0)}))}}n.d(t,"a",(function(){return o}))},212:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r=!("undefined"===typeof window||!window.document||!window.document.createElement),o=r&&/iphone|ipad|ipod/i.test(window.navigator.userAgent)},214:function(e,t,n){"use strict";n(36),n(197),n(224)},219:function(e,t,n){"use strict";var r=n(3),o=n.n(r),a=n(13),i=n.n(a),l=n(8),u=n.n(l),s=n(10),c=n.n(s),d=n(7),p=n.n(d),f=n(9),m=n.n(f),b=n(11),y=n.n(b),h=n(4),v=n(0),C=n(78),g=n(211),k=n(19);function K(e,t){return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}function x(e,t){e.classList?e.classList.add(t):K(e,t)||(e.className=e.className+" "+t)}function P(e,t){if(e.classList)e.classList.remove(t);else if(K(e,t)){var n=e.className;e.className=(" "+n+" ").replace(" "+t+" ","")}}var E=n(212),I=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};function O(e,t){if(!e||!e.length||!t)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return!0;return!1}var w=function(e){function t(){return u()(this,t),p()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.onClick,r=e.className,a=e.disabled,l=e.children,u=e.tdRef,s=e.label,c=e.iconOnly,d=I(e,["prefixCls","onClick","className","disabled","children","tdRef","label","iconOnly"]),p=l;"keyboard-delete"===r?p="delete":"keyboard-hide"===r?p="hide":"keyboard-confirm"===r&&(p="confirm");var f=o()({},t+"-item-disabled",a),m=y()(t+"-item",r,f);return v.createElement(C.a,{disabled:a,activeClassName:t+"-item-active"},v.createElement("td",i()({ref:u,onClick:function(e){n(e,p)},className:m},d),l,c&&v.createElement("i",{className:"sr-only"},s)))}}]),t}(v.Component);w.defaultProps={prefixCls:"am-number-keyboard",onClick:function(){},disabled:!1};var L=function(e){function t(){u()(this,t);var e=p()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onKeyboardClick=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.nativeEvent.stopImmediatePropagation(),e.props.disabledKeys&&O(e.props.disabledKeys,n)||"confirm"===n&&e.confirmDisabled?null:void(e.linkedInput&&e.linkedInput.onKeyboardClick(n))},e.renderKeyboardItem=function(t,n){var r=!1;return e.props.disabledKeys&&O(e.props.disabledKeys,t)&&(r=!0),v.createElement(w,{onClick:e.onKeyboardClick,key:"item-"+t+"-"+n,disabled:r},t)},e}return m()(t,e),c()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.confirmLabel,o=t.backspaceLabel,a=t.cancelKeyboardLabel,l=t.wrapProps,u=t.header,s=y()(n+"-wrapper",n+"-wrapper-hide");return v.createElement("div",i()({className:s,ref:function(t){return e.antmKeyboard=t}},l),u&&v.cloneElement(u,{onClick:this.onKeyboardClick}),v.createElement("table",null,v.createElement("tbody",null,v.createElement("tr",null,["1","2","3"].map((function(t,n){return e.renderKeyboardItem(t,n)})),v.createElement(w,i()({className:"keyboard-delete",rowSpan:2,onClick:this.onKeyboardClick},this.getAriaAttr(o)))),v.createElement("tr",null,["4","5","6"].map((function(t,n){return e.renderKeyboardItem(t,n)}))),v.createElement("tr",null,["7","8","9"].map((function(t,n){return e.renderKeyboardItem(t,n)})),v.createElement(w,{className:"keyboard-confirm",rowSpan:2,onClick:this.onKeyboardClick,tdRef:function(t){return e.confirmKeyboardItem=t}},r)),v.createElement("tr",null,[".","0"].map((function(t,n){return e.renderKeyboardItem(t,n)})),v.createElement(w,i()({className:"keyboard-hide",onClick:this.onKeyboardClick},this.getAriaAttr(a)))))))}},{key:"getAriaAttr",value:function(e){return E.a?{label:e,iconOnly:!0}:{role:"button","aria-label":e}}}]),t}(v.Component);L.defaultProps={prefixCls:"am-number-keyboard",disabledKeys:null};var B=L,N=k.createPortal,_=function(e){function t(e){u()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.container=n.props.getContainer(),n}return m()(t,e),c()(t,[{key:"render",value:function(){return this.props.children?N(this.props.children,this.container):null}}]),t}(v.Component),S=null,j=!!k.createPortal;var R=function(e){function t(e){u()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=function(e){"value"in n.props||n.setState({value:e.target.value}),n.props.onChange(e)},n.onConfirm=function(e){n.props.onVirtualKeyboardConfirm(e)},n.addBlurListener=function(){document.addEventListener("click",n.doBlur,!1)},n.removeBlurListener=function(){document.removeEventListener("click",n.doBlur,!1)},n.saveRef=function(e){j&&e&&(S=e)},n.doBlur=function(e){var t=n.state.value;e.target!==n.inputRef&&n.onInputBlur(t)},n.unLinkInput=function(){S&&S.antmKeyboard&&S.linkedInput&&S.linkedInput===n&&(S.linkedInput=null,n.props.autoAdjustHeight&&(n.getContainer().style.height="0"),x(S.antmKeyboard,n.props.keyboardPrefixCls+"-wrapper-hide")),n.removeBlurListener()},n.onInputBlur=function(e){j&&(n.keyBoard=null),n.state.focus&&(n.setState({focus:!1}),n.props.onBlur(e),setTimeout((function(){n.unLinkInput()}),50))},n.onInputFocus=function(){var e=n.state.value;n.props.onFocus(e),n.setState({focus:!0},(function(){if(S){if(S.linkedInput=n,S.antmKeyboard){if(n.props.autoAdjustHeight){var t=S.antmKeyboard.offsetHeight;if(n.getContainer().style.height=t+"px",n.inputRef){var r=n.inputRef.getBoundingClientRect().bottom,o=window.innerHeight-r;o<t&&(a=function(){var e=document.scrollingElement||document.documentElement;return e&&e.scrollTop||0}()+t-o,(document.scrollingElement||document.documentElement).scrollTop=a)}}P(S.antmKeyboard,n.props.keyboardPrefixCls+"-wrapper-hide")}S.confirmDisabled=""===e,S.confirmKeyboardItem&&(""===e?x(S.confirmKeyboardItem,n.props.keyboardPrefixCls+"-item-disabled"):P(S.confirmKeyboardItem,n.props.keyboardPrefixCls+"-item-disabled"))}var a}))},n.onKeyboardClick=function(e){var t=n.props.maxLength,r=n.state.value,o=n.onChange,a=void 0;"delete"===e?o({target:{value:a=r.substring(0,r.length-1)}}):"confirm"===e?(o({target:{value:a=r}}),n.onInputBlur(r),n.onConfirm(r)):"hide"===e?(a=r,n.onInputBlur(a)):o(void 0!==t&&+t>=0&&(r+e).length>t?{target:{value:a=(r+e).substr(0,t)}}:{target:{value:a=r+e}}),S&&(S.confirmDisabled=""===a,S.confirmKeyboardItem&&(""===a?x(S.confirmKeyboardItem,n.props.keyboardPrefixCls+"-item-disabled"):P(S.confirmKeyboardItem,n.props.keyboardPrefixCls+"-item-disabled")))},n.onFakeInputClick=function(){n.focus()},n.focus=function(){n.renderCustomKeyboard(),n.removeBlurListener(),n.state.focus||n.onInputFocus(),setTimeout((function(){n.addBlurListener()}),50)},n.state={focus:!1,value:e.value||""},n}return m()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){"value"in e&&this.setState({value:e.value})}},{key:"componentWillUnmount",value:function(){this.state.focus&&this.props.onBlur(this.state.value),this.unLinkInput()}},{key:"getComponent",value:function(){var e=this.props,t=e.confirmLabel,n=e.backspaceLabel,r=e.cancelKeyboardLabel,o=e.keyboardPrefixCls,a=e.moneyKeyboardWrapProps,i=e.moneyKeyboardHeader,l=e.disabledKeys;return v.createElement(B,{ref:this.saveRef,onClick:this.onKeyboardClick,prefixCls:o,confirmLabel:t,backspaceLabel:n,cancelKeyboardLabel:r,wrapProps:a,header:i,disabledKeys:l})}},{key:"getContainer",value:function(){var e=this.props.keyboardPrefixCls,t=document.querySelector("#"+e+"-container");return t||((t=document.createElement("div")).setAttribute("id",e+"-container"),document.body.appendChild(t)),this.container=t,this.container}},{key:"renderCustomKeyboard",value:function(){var e=this;j?this.keyBoard=v.createElement(_,{getContainer:function(){return e.getContainer()}},this.getComponent()):S=k.unstable_renderSubtreeIntoContainer(this,this.getComponent(),this.getContainer())}},{key:"renderPortal",value:function(){return j&&E.b?this.keyBoard:null}},{key:"render",value:function(){var e=this,t=this.props,n=t.placeholder,r=t.disabled,o=t.editable,a=t.moneyKeyboardAlign,i=this.state,l=i.focus,u=i.value,s=r||!o,c=y()("fake-input",{focus:l,"fake-input-disabled":r}),d=y()("fake-input-container",{"fake-input-container-left":"left"===a});return v.createElement("div",{className:d},""===u&&v.createElement("div",{className:"fake-input-placeholder"},n),v.createElement("div",{role:"textbox","aria-label":u||n,className:c,ref:function(t){return e.inputRef=t},onClick:s?function(){}:this.onFakeInputClick},u),this.renderPortal())}}]),t}(v.Component);R.defaultProps={onChange:function(){},onFocus:function(){},onBlur:function(){},onVirtualKeyboardConfirm:function(){},placeholder:"",disabled:!1,editable:!0,prefixCls:"am-input",keyboardPrefixCls:"am-number-keyboard",autoAdjustHeight:!1};var F=R,A=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},T=function(e){function t(){u()(this,t);var e=p()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onInputBlur=function(t){var n=t.target.value;e.props.onBlur&&e.props.onBlur(n)},e.onInputFocus=function(t){var n=t.target.value;e.props.onFocus&&e.props.onFocus(n)},e.focus=function(){e.inputRef&&e.inputRef.focus()},e}return m()(t,e),c()(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.onBlur,t.onFocus,A(t,["onBlur","onFocus"]));return v.createElement("input",i()({ref:function(t){return e.inputRef=t},onBlur:this.onInputBlur,onFocus:this.onInputFocus},n))}}]),t}(v.Component),H=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};function W(){}function V(e){return"undefined"===typeof e||null===e?"":e+""}var D=function(e){function t(e){u()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInputChange=function(e){var t=e.target,r=t.value,o=0;try{o=t.selectionEnd||0}catch(c){console.warn("Get selection error:",c)}var a=n.state.value,i=void 0===a?"":a,l=n.props.type,u=r;switch(l){case"bankCard":u=r.replace(/\D/g,"").replace(/(....)(?=.)/g,"$1 ");break;case"phone":var s=(u=r.replace(/\D/g,"").substring(0,11)).length;s>3&&s<8?u=u.substr(0,3)+" "+u.substr(3):s>=8&&(u=u.substr(0,3)+" "+u.substr(3,4)+" "+u.substr(7));break;case"number":u=r.replace(/\D/g,"")}n.handleOnChange(u,u!==r,(function(){switch(l){case"bankCard":case"phone":case"number":try{var e=n.calcPos(o,i,r,u,[" "],/\D/g);("phone"===l&&(4===e||9===e)||"bankCard"===l&&e>0&&e%5===0)&&(e-=1),t.selectionStart=t.selectionEnd=e}catch(c){console.warn("Set selection error:",c)}}}))},n.handleOnChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:W,o=n.props.onChange;"value"in n.props?n.setState({value:n.props.value}):n.setState({value:e}),o?t?setTimeout((function(){o(e),r()})):(o(e),r()):r()},n.onInputFocus=function(e){n.debounceTimeout&&(clearTimeout(n.debounceTimeout),n.debounceTimeout=null),n.setState({focus:!0}),n.props.onFocus&&n.props.onFocus(e)},n.onInputBlur=function(e){n.inputRef&&(n.debounceTimeout=window.setTimeout((function(){document.activeElement!==(n.inputRef&&n.inputRef.inputRef)&&n.setState({focus:!1})}),200)),n.props.onBlur&&(setTimeout((function(){document.body&&(document.body.scrollTop=document.body.scrollTop)}),100),n.props.onBlur(e))},n.clearInput=function(){"password"!==n.props.type&&n.props.updatePlaceholder&&n.setState({placeholder:n.props.value}),n.setState({value:""}),n.props.onChange&&n.props.onChange(""),n.focus()},n.focus=function(){n.inputRef&&n.inputRef.focus()},n.calcPos=function(e,t,n,r,o,a){var i=n.length-t.length,l=e;if(i>0){var u=n.substr(l-i,i).replace(a,"").length;l-=i-u;for(var s=0;u>0;)-1===o.indexOf(r.charAt(l-u+s))?u--:s++;l+=s}return l},n.state={placeholder:e.placeholder,value:V(e.value||e.defaultValue)},n}return m()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){"placeholder"in e&&!e.updatePlaceholder&&this.setState({placeholder:e.placeholder}),"value"in e&&this.setState({value:e.value})}},{key:"componentWillUnmount",value:function(){this.debounceTimeout&&(window.clearTimeout(this.debounceTimeout),this.debounceTimeout=null)}},{key:"render",value:function(){var e,t,r=this,a=i()({},this.props);delete a.updatePlaceholder;var l=a.prefixCls,u=a.prefixListCls,s=a.editable,c=a.style,d=a.clear,p=a.children,f=a.error,m=a.className,b=a.extra,h=a.labelNumber,k=a.type,K=a.onExtraClick,x=a.onErrorClick,P=a.moneyKeyboardAlign,E=a.moneyKeyboardWrapProps,I=a.moneyKeyboardHeader,O=a.onVirtualKeyboardConfirm,w=a.autoAdjustHeight,L=a.disabledKeys,B=H(a,["prefixCls","prefixListCls","editable","style","clear","children","error","className","extra","labelNumber","type","onExtraClick","onErrorClick","moneyKeyboardAlign","moneyKeyboardWrapProps","moneyKeyboardHeader","onVirtualKeyboardConfirm","autoAdjustHeight","disabledKeys"]),N=B.name,_=B.disabled,S=B.maxLength,j=this.state.value,R=Object(g.a)(this.props,this.context,"InputItem",(function(){return n(225)})),A=R.confirmLabel,W=R.backspaceLabel,D=R.cancelKeyboardLabel,J=this.state,U=J.focus,q=J.placeholder,G=y()(u+"-item",l+"-item",u+"-item-middle",m,(e={},o()(e,l+"-disabled",_),o()(e,l+"-error",f),o()(e,l+"-focus",U),o()(e,l+"-android",U),e)),$=y()(l+"-label",(t={},o()(t,l+"-label-2",2===h),o()(t,l+"-label-3",3===h),o()(t,l+"-label-4",4===h),o()(t,l+"-label-5",5===h),o()(t,l+"-label-6",6===h),o()(t,l+"-label-7",7===h),t)),z=l+"-control",M="text";"bankCard"===k||"phone"===k?M="tel":"password"===k?M="password":"digit"===k?M="number":"text"!==k&&"number"!==k&&(M=k);var Q=void 0;"number"===k&&(Q={pattern:"[0-9]*"});var X=void 0;return"digit"===k&&(X={className:"h5numInput"}),v.createElement("div",{className:G},v.createElement("div",{className:u+"-line"},p?v.createElement("div",{className:$},p):null,v.createElement("div",{className:z},"money"===k?v.createElement(F,{value:V(j),type:k,ref:function(e){return r.inputRef=e},maxLength:S,placeholder:q,onChange:this.onInputChange,onFocus:this.onInputFocus,onBlur:this.onInputBlur,onVirtualKeyboardConfirm:O,disabled:_,editable:s,prefixCls:l,style:c,confirmLabel:A,backspaceLabel:W,cancelKeyboardLabel:D,moneyKeyboardAlign:P,moneyKeyboardWrapProps:E,moneyKeyboardHeader:I,autoAdjustHeight:w,disabledKeys:L}):v.createElement(T,i()({},Q,B,X,{value:V(j),defaultValue:void 0,ref:function(e){return r.inputRef=e},style:c,type:M,maxLength:S,name:N,placeholder:q,onChange:this.onInputChange,onFocus:this.onInputFocus,onBlur:this.onInputBlur,readOnly:!s,disabled:_}))),d&&s&&!_&&j&&(""+j).length>0?v.createElement(C.a,{activeClassName:l+"-clear-active"},v.createElement("div",{className:l+"-clear",onClick:this.clearInput})):null,f?v.createElement("div",{className:l+"-error-extra",onClick:x}):null,""!==b?v.createElement("div",{className:l+"-extra",onClick:K},b):null))}}]),t}(v.Component);D.defaultProps={prefixCls:"am-input",prefixListCls:"am-list",type:"text",editable:!0,disabled:!1,placeholder:"",clear:!1,onChange:W,onBlur:W,onFocus:W,extra:"",onExtraClick:W,error:!1,onErrorClick:W,onVirtualKeyboardConfirm:W,labelNumber:5,updatePlaceholder:!1,moneyKeyboardAlign:"right",moneyKeyboardWrapProps:{},moneyKeyboardHeader:null,disabledKeys:null},D.contextTypes={antLocale:h.object};t.a=D},224:function(e,t,n){},225:function(e,t,n){"use strict";n.r(t),t.default={confirmLabel:"\u786e\u5b9a",backspaceLabel:"\u9000\u683c",cancelKeyboardLabel:"\u6536\u8d77\u952e\u76d8"}}}]);